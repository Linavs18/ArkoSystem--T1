<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">
<head>
  <title>Proveedores - ArkoSystem</title>
  <link rel="stylesheet" th:href="@{/assets/css/argon-dashboard.css}">
  <link rel="stylesheet" th:href="@{/assets/css/custom.css}">
</head>
<body>
<div layout:fragment="content">
  <div class="content-wrapper">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h1 class="text-primary h4 mb-0">
        <i class="fas fa-truck"></i> Lista de Proveedores
      </h1>
      <a th:href="@{/view/suppliers/form}" class="btn btn-sm btn-primary">
        <i class="fas fa-plus"></i> Nuevo
      </a>
    </div>

    <!-- Mensajes de éxito/error -->
    <div th:if="${success}" class="alert alert-success alert-sm small" role="alert">
      <span th:text="${success}"></span>
    </div>
    <div th:if="${error}" class="alert alert-danger alert-sm small" role="alert">
      <span th:text="${error}"></span>
    </div>

    <!-- Tabla ajustada -->
    <div class="table-responsive table-smaller">
      <table class="table table-striped table-hover table-sm">
        <thead class="bg-primary text-white">
        <tr>
          <th class="py-2" style="width: 5%;">ID</th>
          <th class="py-2" style="width: 25%;">Nombre</th>
          <th class="py-2" style="width: 15%;">Teléfono</th>
          <th class="py-2" style="width: 25%;">Dirección</th>
          <th class="py-2" style="width: 20%;">Email</th>
          <th class="py-2 text-right" style="width: 10%;">Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="supplier : ${suppliers}">
          <td class="py-1" th:text="${supplier.id}"></td>
          <td class="py-1" th:text="${supplier.name}"></td>
          <td class="py-1" th:text="${supplier.phone}"></td>
          <td class="py-1" th:text="${supplier.address}"></td>
          <td class="py-1" th:text="${supplier.email}"></td>
          <td class="text-right py-1">
            <div class="d-flex justify-content-end gap-1">
              <a th:href="@{/view/suppliers/edit/{id}(id=${supplier.id})}"
                 class="btn btn-sm btn-info">
                <i class="fas fa-edit"></i>
              </a>
              <form th:action="@{/view/suppliers/delete/{id}(id=${supplier.id})}"
                    method="post"
                    style="display: inline;">
                <button type="submit" class="btn btn-sm btn-danger">
                  <i class="fas fa-trash"></i>
                </button>
              </form>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</body>
</html>